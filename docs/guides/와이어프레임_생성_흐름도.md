# ğŸ“± ì™€ì´ì–´í”„ë ˆì„ ìƒì„± íë¦„ ê°€ì´ë“œ

**ë‚ ì§œ**: 2025-01-12  
**ì‘ì„±ì**: AI Assistant  
**ëª©ì **: ì™€ì´ì–´í”„ë ˆì„ì´ ì–´ë–»ê²Œ ë§Œë“¤ì–´ì§€ëŠ”ì§€ ì „ì²´ ê³¼ì • ì„¤ëª…

---

## ğŸ¯ ì „ì²´ íë¦„ ìš”ì•½

```
ì‚¬ìš©ì ë²„íŠ¼ í´ë¦­ 
  â†“
í”„ë¡ íŠ¸ì—”ë“œ (React Hook)
  â†“
Next.js API Route (í”„ë¡ì‹œ)
  â†“
NestJS ë°±ì—”ë“œ (ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§)
  â†“
Supabase (í”„ë¡œì íŠ¸ ë°ì´í„° ì¡°íšŒ)
  â†“
Claude AI (ì™€ì´ì–´í”„ë ˆì„ JSON ìƒì„±)
  â†“
Supabase (ì™€ì´ì–´í”„ë ˆì„ ì €ì¥)
  â†“
í”„ë¡ íŠ¸ì—”ë“œ (LoFiCanvas ë Œë”ë§)
  â†“
ì‚¬ìš©ì í™”ë©´ì— í‘œì‹œ
```

---

## ğŸ“‹ ë‹¨ê³„ë³„ ìƒì„¸ ì„¤ëª…

### Step 1: ì‚¬ìš©ì ì•¡ì…˜ (í”„ë¡ íŠ¸ì—”ë“œ)

**ìœ„ì¹˜**: `frontend/src/app/page.tsx` â†’ `ConfirmationPanel.tsx`

ì‚¬ìš©ìê°€ "ì™€ì´ì–´í”„ë ˆì„ ìƒì„±í•˜ê¸°" ë²„íŠ¼ì„ í´ë¦­í•©ë‹ˆë‹¤.

```tsx
// ConfirmationPanel.tsx
<button
  onClick={onGenerateWireframe}
  className="px-6 py-3 bg-indigo-600 text-white rounded-lg"
>
  ğŸ¨ ì™€ì´ì–´í”„ë ˆì„ ìƒì„±í•˜ê¸°
</button>
```

ë²„íŠ¼ í´ë¦­ â†’ `page.tsx`ì˜ `generateWireframe(savedProjectId)` í˜¸ì¶œ

---

### Step 2: React Hook ì‹¤í–‰ (í”„ë¡ íŠ¸ì—”ë“œ)

**ìœ„ì¹˜**: `frontend/src/hooks/useWireframe.ts`

```typescript
const generateWireframe = async (projectId: string) => {
  setIsGenerating(true);  // ë¡œë”© ìƒíƒœ ì‹œì‘
  setError(null);

  try {
    // API í˜¸ì¶œ
    const response = await fetch("/api/wireframes/generate", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ projectId }),
    });

    const data = await response.json();
    
    if (data.status === "error") {
      throw new Error(data.message);
    }

    setWireframe(data.spec);  // ìƒì„±ëœ ì™€ì´ì–´í”„ë ˆì„ ì €ì¥
    return data;
  } catch (err) {
    setError(errorMessage);
    throw err;
  } finally {
    setIsGenerating(false);  // ë¡œë”© ìƒíƒœ ì¢…ë£Œ
  }
};
```

**ì—­í• **:
- ë¡œë”© ìƒíƒœ ê´€ë¦¬ (`isGenerating`)
- ì—ëŸ¬ ì²˜ë¦¬
- API í˜¸ì¶œ
- ì‘ë‹µ ë°ì´í„° ìƒíƒœ ì €ì¥

---

### Step 3: Next.js API Route (í”„ë¡ì‹œ)

**ìœ„ì¹˜**: `frontend/src/app/api/wireframes/generate/route.ts`

```typescript
export async function POST(request: Request) {
  const { projectId } = await request.json();
  
  // ë°±ì—”ë“œ API í˜¸ì¶œ
  const backendUrl = process.env.NEXT_PUBLIC_BACKEND_URL;
  const response = await fetch(`${backendUrl}/wireframes/generate`, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ projectId }),
  });

  const data = await response.json();
  return NextResponse.json(data);
}
```

**ì—­í• **:
- í”„ë¡ íŠ¸ì—”ë“œì™€ ë°±ì—”ë“œ ì‚¬ì´ì˜ í”„ë¡ì‹œ
- CORS ë¬¸ì œ í•´ê²°
- í™˜ê²½ë³€ìˆ˜ ê´€ë¦¬ (`NEXT_PUBLIC_BACKEND_URL`)

---

### Step 4: NestJS ì»¨íŠ¸ë¡¤ëŸ¬ (ë°±ì—”ë“œ)

**ìœ„ì¹˜**: `backend/src/wireframes/wireframes.controller.ts`

```typescript
@Post("generate")
async generate(@Body() dto: GenerateWireframeDto) {
  // 1. DTO ê²€ì¦ (projectIdê°€ ìˆëŠ”ì§€)
  
  // 2. ì„œë¹„ìŠ¤ í˜¸ì¶œ
  const result = await this.wireframesService.generateWireframe(
    dto.projectId
  );
  
  return {
    status: "success",
    spec: result.spec,
    wireframe: result.wireframe,
  };
}
```

**ì—­í• **:
- ìš”ì²­ ê²€ì¦ (`GenerateWireframeDto`)
- ì„œë¹„ìŠ¤ ê³„ì¸µ í˜¸ì¶œ
- ì‘ë‹µ í¬ë§·íŒ…

---

### Step 5: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ - í”„ë¡œì íŠ¸ ë°ì´í„° ì¡°íšŒ

**ìœ„ì¹˜**: `backend/src/wireframes/wireframes.service.ts`

```typescript
async generateWireframe(projectId: string) {
  console.log('=== ì™€ì´ì–´í”„ë ˆì„ ìƒì„± ì‹œì‘ ===');
  
  // 1ï¸âƒ£ Supabaseì—ì„œ í”„ë¡œì íŠ¸ ë°ì´í„° ì¡°íšŒ
  const { data: project, error } = await this.supabase
    .from('projects')
    .select('*, requirements, project_overview')
    .eq('id', projectId)
    .single();

  if (error || !project) {
    throw new Error('í”„ë¡œì íŠ¸ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤');
  }

  // ... ê³„ì†
}
```

**ì¡°íšŒ ë°ì´í„°**:
- `project.title`: í”„ë¡œì íŠ¸ ì œëª©
- `project.description`: í”„ë¡œì íŠ¸ ì„¤ëª…
- `project.requirements`: ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­
- `project.project_overview`: í”„ë¡œì íŠ¸ ê°œìš” (í•µì‹¬ ê¸°ëŠ¥, íƒ€ê²Ÿ ìœ ì € ë“±)

---

### Step 6: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ - ìš”êµ¬ì‚¬í•­ ìš”ì•½ ìƒì„±

**ìœ„ì¹˜**: `backend/src/wireframes/wireframes.service.ts`

```typescript
private createRequirementsSummary(project: any): string {
  let summary = 'í”„ë¡œì íŠ¸ ìš”ì•½:\n';
  summary += `- ì œëª©: ${project.title}\n`;
  summary += `- ì„¤ëª…: ${project.description}\n\n`;

  // í•µì‹¬ ê¸°ëŠ¥ ì¶”ì¶œ
  if (overview.serviceCoreElements?.keyFeatures) {
    summary += 'í•µì‹¬ ê¸°ëŠ¥:\n';
    overview.serviceCoreElements.keyFeatures.forEach((feature, idx) => {
      summary += `${idx + 1}. ${feature}\n`;
    });
  }

  // ì£¼ìš” ìš”êµ¬ì‚¬í•­ ì¶”ì¶œ (ìƒìœ„ 3ê°œë§Œ)
  if (requirements.categories) {
    summary += 'ì£¼ìš” ìš”êµ¬ì‚¬í•­:\n';
    requirements.categories.forEach((cat) => {
      cat.subCategories.forEach((sub) => {
        sub.requirements.slice(0, 3).forEach((req) => {
          summary += `- ${req.title}: ${req.description}\n`;
        });
      });
    });
  }

  return summary;
}
```

**ì˜ˆì‹œ ìš”ì•½**:
```
í”„ë¡œì íŠ¸ ìš”ì•½:
- ì œëª©: ë§›ì§‘ ì¶”ì²œ ì•±
- ì„¤ëª…: AI ê¸°ë°˜ ê°œì¸í™” ë§›ì§‘ ì¶”ì²œ ì„œë¹„ìŠ¤

í•µì‹¬ ê¸°ëŠ¥:
1. ì‚¬ìš©ì ìœ„ì¹˜ ê¸°ë°˜ ë§›ì§‘ ê²€ìƒ‰
2. AI ê°œì¸í™” ì¶”ì²œ
3. ë¦¬ë·° ì‘ì„± ë° ê³µìœ 

ì£¼ìš” ìš”êµ¬ì‚¬í•­:
- ì‚¬ìš©ì ì¸ì¦: ì†Œì…œ ë¡œê·¸ì¸ ì§€ì›
- ë§›ì§‘ ê²€ìƒ‰: ìœ„ì¹˜, ì¹´í…Œê³ ë¦¬ë³„ í•„í„°ë§
- AI ì¶”ì²œ: ì‚¬ìš©ì ì„ í˜¸ë„ í•™ìŠµ ë° ë§ì¶¤ ì¶”ì²œ
```

---

### Step 7: Claude AI í˜¸ì¶œ - ì™€ì´ì–´í”„ë ˆì„ JSON ìƒì„±

**ìœ„ì¹˜**: `backend/src/wireframes/wireframes.service.ts`

```typescript
private async generateSpecFromLLM(summary: string): Promise<any> {
  const apiKey = this.configService.get<string>('ANTHROPIC_API_KEY');
  
  // ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ ì •ì˜
  const systemPrompt = `ë‹¹ì‹ ì€ ì œí’ˆ ë””ìì´ë„ˆ ë³´ì¡° ì—ì´ì „íŠ¸ì…ë‹ˆë‹¤.
ëª¨ë°”ì¼ ê¸°ì¤€ ì €í•´ìƒë„ ì™€ì´ì–´í”„ë ˆì„ì„ JSON í˜•íƒœë¡œ ì¶œë ¥í•©ë‹ˆë‹¤.

ê·œì¹™:
- ë°˜ë“œì‹œ JSONë§Œ ì¶œë ¥ (ì½”ë“œë¸”ë¡ ê¸ˆì§€)
- ìŠ¤í‚¤ë§ˆ: { viewport, screen: { id, name, layout, elements[] } }
- elements[].type: navbar, button, input, image, card, list ë“±
- ì¢Œí‘œ(x,y), í¬ê¸°(w,h)ëŠ” px ë‹¨ìœ„ ì •ìˆ˜
- ìƒ‰ìƒ/ìŠ¤íƒ€ì¼ì€ propsë¡œë§Œ (ë¡œíŒŒì´ ë””ìì¸)
- í•„ìˆ˜: ìƒë‹¨ ì˜ì—­, í•µì‹¬ ì•¡ì…˜, ì…ë ¥/ë¦¬ìŠ¤íŠ¸ ë“±`;

  const userPrompt = `ë‹¤ìŒ í”„ë¡œì íŠ¸ì˜ ë©”ì¸ í™”ë©´ ì™€ì´ì–´í”„ë ˆì„ì„ ìƒì„±í•˜ì„¸ìš”:

${summary}

ìš”êµ¬ì‚¬í•­:
- ë””ë°”ì´ìŠ¤: mobile(390x844)
- 1ê°œ í™”ë©´: ë©”ì¸/í™ˆ í™”ë©´
- í•µì‹¬ ê¸°ëŠ¥ì´ í¬í•¨ëœ UI êµ¬ì„±`;

  // Claude API í˜¸ì¶œ
  const response = await fetch('https://api.anthropic.com/v1/messages', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      'x-api-key': apiKey,
      'anthropic-version': '2023-06-01',
    },
    body: JSON.stringify({
      model: 'claude-3-5-sonnet-20241022',
      max_tokens: 4096,
      messages: [
        { role: 'user', content: userPrompt }
      ],
      system: systemPrompt,
    }),
  });

  const data = await response.json();
  const jsonText = data.content[0].text;
  
  // JSON íŒŒì‹±
  const spec = JSON.parse(jsonText);
  
  return spec;
}
```

**Claude AI ì‘ë‹µ ì˜ˆì‹œ**:
```json
{
  "viewport": {
    "width": 390,
    "height": 844,
    "device": "mobile"
  },
  "screen": {
    "id": "home",
    "name": "í™ˆ/ë©”ì¸",
    "layout": { "type": "free" },
    "elements": [
      {
        "id": "e1",
        "type": "navbar",
        "label": "ìƒë‹¨ë°”",
        "x": 0, "y": 0,
        "w": 390, "h": 56
      },
      {
        "id": "e2",
        "type": "input",
        "label": "ê²€ìƒ‰",
        "x": 16, "y": 72,
        "w": 270, "h": 44
      },
      {
        "id": "e3",
        "type": "button",
        "label": "í•„í„°",
        "x": 300, "y": 72,
        "w": 74, "h": 44
      },
      {
        "id": "e4",
        "type": "list",
        "label": "ë§›ì§‘ ì¹´ë“œ ë¦¬ìŠ¤íŠ¸",
        "x": 16, "y": 128,
        "w": 358, "h": 620,
        "props": { "count": 6 }
      },
      {
        "id": "e5",
        "type": "navbar",
        "label": "í•˜ë‹¨ íƒ­ë°”",
        "x": 0, "y": 784,
        "w": 390, "h": 60
      }
    ]
  }
}
```

**í´ë°± ë©”ì»¤ë‹ˆì¦˜**:
- Claude API ì‹¤íŒ¨ ì‹œ ê¸°ë³¸ ì™€ì´ì–´í”„ë ˆì„ ë°˜í™˜
- ê¸°ë³¸ ë ˆì´ì•„ì›ƒ: ìƒë‹¨ë°” + ê²€ìƒ‰ + ë¦¬ìŠ¤íŠ¸ + í•˜ë‹¨ë°”

---

### Step 8: Supabase ì €ì¥

**ìœ„ì¹˜**: `backend/src/wireframes/wireframes.service.ts`

```typescript
async generateWireframe(projectId: string) {
  // ... (ì•ì„  ë‹¨ê³„ë“¤)
  
  // 4ï¸âƒ£ ê¸°ì¡´ ì™€ì´ì–´í”„ë ˆì„ ì‚­ì œ (ì¬ìƒì„± ì‹œ)
  await this.supabase
    .from('wireframes')
    .delete()
    .eq('project_id', projectId);

  // 5ï¸âƒ£ ìƒˆ ì™€ì´ì–´í”„ë ˆì„ ì €ì¥
  const { data: saved, error } = await this.supabase
    .from('wireframes')
    .insert({
      project_id: projectId,
      version: 1,
      spec: spec,  // Claudeê°€ ìƒì„±í•œ JSON
    })
    .select()
    .single();

  if (error) {
    throw new Error(`ì €ì¥ ì‹¤íŒ¨: ${error.message}`);
  }

  return { ok: true, spec: saved.spec, wireframe: saved };
}
```

**DB í…Œì´ë¸” êµ¬ì¡°**:
```sql
create table wireframes (
  id uuid primary key default gen_random_uuid(),
  project_id uuid not null references projects(id),
  version int not null default 1,
  spec jsonb not null,  -- ì™€ì´ì–´í”„ë ˆì„ JSON
  created_at timestamptz not null default now()
);
```

---

### Step 9: í”„ë¡ íŠ¸ì—”ë“œ ë Œë”ë§

**ìœ„ì¹˜**: `frontend/src/components/wireframe/LoFiCanvas.tsx`

```tsx
export function LoFiCanvas({ spec, scale = 1 }: Props) {
  const { viewport, screen } = spec;
  
  return (
    <div
      className="relative border-4 border-gray-800 rounded-2xl shadow-2xl bg-white"
      style={{
        width: viewport.width * scale,
        height: viewport.height * scale,
      }}
    >
      {/* ìš”ì†Œë“¤ ë Œë”ë§ */}
      {screen.elements.map((el) => {
        const style = typeStyle[el.type]; // íƒ€ì…ë³„ ìŠ¤íƒ€ì¼
        const icon = typeIcon[el.type];   // íƒ€ì…ë³„ ì•„ì´ì½˜

        return (
          <div
            key={el.id}
            className={`absolute ${style.bg} ${style.border} border-2`}
            style={{
              left: el.x * scale,
              top: el.y * scale,
              width: el.w * scale,
              height: el.h * scale,
            }}
          >
            <span>{icon} {el.type.toUpperCase()}</span>
            {el.label && <span>Â· {el.label}</span>}
          </div>
        );
      })}
    </div>
  );
}
```

**ë Œë”ë§ ê²°ê³¼**:
- ê° ìš”ì†Œê°€ **ë°•ìŠ¤ í˜•íƒœ**ë¡œ í‘œì‹œ
- íƒ€ì…ë³„ë¡œ **ìƒ‰ìƒ êµ¬ë¶„** (navbar: ì¸ë””ê³ , button: ë¸”ë£¨ ë“±)
- í˜¸ë²„ ì‹œ **ë§ íš¨ê³¼**
- ë¼ë²¨ê³¼ íƒ€ì… í‘œì‹œ

---

### Step 10: ì‚¬ìš©ì í™”ë©´ì— í‘œì‹œ

**ìœ„ì¹˜**: `frontend/src/components/project/ConfirmationPanel.tsx`

```tsx
{wireframe && !isGeneratingWireframe && (
  <div className="space-y-6">
    {/* ë‹¤ì‹œ ìƒì„± ë²„íŠ¼ */}
    <div className="flex justify-end">
      <button onClick={onRegenerateWireframe}>
        ğŸ”„ ë‹¤ì‹œ ìƒì„±
      </button>
    </div>

    {/* ì™€ì´ì–´í”„ë ˆì„ ë Œë”ë§ */}
    <div className="flex justify-center bg-gray-50 rounded-lg p-8">
      <LoFiCanvas spec={wireframe} scale={0.8} />
    </div>

    {/* ì •ë³´ íŒ¨ë„ */}
    <div className="bg-blue-50 border border-blue-200 rounded-lg p-4">
      <p>ğŸ’¡ ì´ê²ƒì€ ë¡œíŒŒì´(ì €í•´ìƒë„) ì™€ì´ì–´í”„ë ˆì„ì…ë‹ˆë‹¤</p>
      <p>í™”ë©´ êµ¬ì¡°ì™€ ì£¼ìš” ìš”ì†Œ ë°°ì¹˜ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤</p>
    </div>
  </div>
)}
```

ì‚¬ìš©ìëŠ” ìƒì„±ëœ ì™€ì´ì–´í”„ë ˆì„ì„ ë³¼ ìˆ˜ ìˆê³ , ë§ˆìŒì— ë“¤ì§€ ì•Šìœ¼ë©´ "ë‹¤ì‹œ ìƒì„±" ë²„íŠ¼ìœ¼ë¡œ ì¬ìƒì„± ê°€ëŠ¥í•©ë‹ˆë‹¤.

---

## ğŸ¨ ìš”ì†Œ íƒ€ì…ë³„ ìŠ¤íƒ€ì¼

| íƒ€ì… | ë°°ê²½ìƒ‰ | í…Œë‘ë¦¬ìƒ‰ | í…ìŠ¤íŠ¸ìƒ‰ | ì•„ì´ì½˜ |
|------|--------|----------|----------|--------|
| `navbar` | ì¸ë””ê³ -100 | ì¸ë””ê³ -300 | ì¸ë””ê³ -800 | â‰¡ |
| `footer` | ê·¸ë ˆì´-100 | ê·¸ë ˆì´-300 | ê·¸ë ˆì´-700 | â” |
| `button` | ë¸”ë£¨-50 | ë¸”ë£¨-300 | ë¸”ë£¨-700 | â–¶ |
| `input` | í™”ì´íŠ¸ | ê·¸ë ˆì´-400 | ê·¸ë ˆì´-600 | âŒ¨ |
| `list` | ê·¸ë ˆì´-50 | ê·¸ë ˆì´-300 | ê·¸ë ˆì´-600 | â˜° |
| `card` | í™”ì´íŠ¸ | ê·¸ë ˆì´-300 | ê·¸ë ˆì´-700 | â–¡ |
| `image` | ê·¸ë ˆì´-200 | ê·¸ë ˆì´-400 | ê·¸ë ˆì´-500 | ğŸ–¼ |

---

## âš¡ ì„±ëŠ¥ ìµœì í™”

### 1. ì¬ìƒì„± ì‹œ ê¸°ì¡´ ë°ì´í„° ì‚­ì œ
```typescript
// ì¤‘ë³µ ë°ì´í„° ë°©ì§€
await this.supabase
  .from('wireframes')
  .delete()
  .eq('project_id', projectId);
```

### 2. í´ë°± ë©”ì»¤ë‹ˆì¦˜
```typescript
try {
  spec = await this.generateSpecFromLLM(summary);
} catch (error) {
  console.warn('LLM ì‹¤íŒ¨, í´ë°± ì‚¬ìš©:', error);
  spec = this.getFallbackWireframe(summary);
}
```

### 3. ì‘ë‹µ ìºì‹± (React Hook)
```typescript
const [wireframe, setWireframe] = useState<WireframeSpec | null>(null);
// í•œ ë²ˆ ìƒì„±ëœ ì™€ì´ì–´í”„ë ˆì„ì€ ìƒíƒœì— ì €ì¥ë˜ì–´ ì¬ì‚¬ìš©
```

---

## ğŸ”„ ë°ì´í„° íë¦„ ë‹¤ì´ì–´ê·¸ë¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤                        â”‚
â”‚    (ConfirmationPanel / RequirementsResultPanel)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚ 1. ë²„íŠ¼ í´ë¦­
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    React Hook (useWireframe)                â”‚
â”‚  - ìƒíƒœ ê´€ë¦¬: wireframe, isGenerating, error               â”‚
â”‚  - API í˜¸ì¶œ: /api/wireframes/generate                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚ 2. POST { projectId }
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Next.js API Route (í”„ë¡ì‹œ)                     â”‚
â”‚  - /app/api/wireframes/generate/route.ts                   â”‚
â”‚  - ë°±ì—”ë“œ URL í”„ë¡ì‹œ                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚ 3. POST to NestJS
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            NestJS Controller (wireframes.controller.ts)     â”‚
â”‚  - DTO ê²€ì¦: GenerateWireframeDto                          â”‚
â”‚  - ì„œë¹„ìŠ¤ í˜¸ì¶œ                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚ 4. Service í˜¸ì¶œ
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            NestJS Service (wireframes.service.ts)           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ 5. Supabase ì¡°íšŒ                              â”‚         â”‚
â”‚  â”‚    - projects í…Œì´ë¸”                          â”‚         â”‚
â”‚  â”‚    - requirements, project_overview           â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                            â†“                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ 6. ìš”êµ¬ì‚¬í•­ ìš”ì•½ ìƒì„±                          â”‚         â”‚
â”‚  â”‚    - createRequirementsSummary()              â”‚         â”‚
â”‚  â”‚    - í•µì‹¬ ê¸°ëŠ¥, ì£¼ìš” ìš”êµ¬ì‚¬í•­ ì¶”ì¶œ             â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                            â†“                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ 7. Claude AI í˜¸ì¶œ                             â”‚         â”‚
â”‚  â”‚    - generateSpecFromLLM()                    â”‚         â”‚
â”‚  â”‚    - ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ + ìš”êµ¬ì‚¬í•­ ìš”ì•½           â”‚         â”‚
â”‚  â”‚    - ì™€ì´ì–´í”„ë ˆì„ JSON ìƒì„±                    â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                            â†“                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ 8. Supabase ì €ì¥                              â”‚         â”‚
â”‚  â”‚    - ê¸°ì¡´ ë°ì´í„° ì‚­ì œ                          â”‚         â”‚
â”‚  â”‚    - wireframes í…Œì´ë¸”ì— INSERT               â”‚         â”‚
â”‚  â”‚    - version: 1, spec: JSON                   â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚ 9. ì‘ë‹µ ë°˜í™˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            í”„ë¡ íŠ¸ì—”ë“œ ë Œë”ë§ (LoFiCanvas)                    â”‚
â”‚  - JSON â†’ ì‹œê°ì  ë°•ìŠ¤ ë Œë”ë§                                â”‚
â”‚  - íƒ€ì…ë³„ ìŠ¤íƒ€ì¼ ì ìš©                                        â”‚
â”‚  - í˜¸ë²„ íš¨ê³¼, ë¼ë²¨ í‘œì‹œ                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ì‚¬ìš©ì í™”ë©´ì— í‘œì‹œ                         â”‚
â”‚  âœ… ì™€ì´ì–´í”„ë ˆì„ ë³´ê¸°                                        â”‚
â”‚  ğŸ”„ ë‹¤ì‹œ ìƒì„± ë²„íŠ¼                                           â”‚
â”‚  ğŸ’¡ ì•ˆë‚´ ë©”ì‹œì§€                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ›¡ï¸ ì—ëŸ¬ ì²˜ë¦¬

### 1. í”„ë¡œì íŠ¸ ì—†ìŒ
```typescript
if (!project) {
  throw new Error('í”„ë¡œì íŠ¸ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤');
}
```

### 2. Claude API ì‹¤íŒ¨
```typescript
try {
  spec = await this.generateSpecFromLLM(summary);
} catch (error) {
  spec = this.getFallbackWireframe(summary);
}
```

### 3. JSON íŒŒì‹± ì‹¤íŒ¨
```typescript
try {
  spec = JSON.parse(jsonText);
} catch {
  // ê¸°ë³¸ ì™€ì´ì–´í”„ë ˆì„ ì‚¬ìš©
}
```

### 4. Supabase ì €ì¥ ì‹¤íŒ¨
```typescript
if (saveError) {
  throw new Error(`ì €ì¥ ì‹¤íŒ¨: ${saveError.message}`);
}
```

---

## ğŸ“Š ë°ì´í„° êµ¬ì¡°

### WireframeSpec (TypeScript)
```typescript
interface WireframeSpec {
  viewport: {
    width: number;
    height: number;
    device: "mobile" | "tablet" | "desktop";
  };
  screen: {
    id: string;
    name: string;
    layout: {
      type: "free" | "grid";
      columns?: number;
      gap?: number;
    };
    elements: WireElement[];
  };
}

interface WireElement {
  id: string;
  type: WireElementType;
  label?: string;
  x: number;  // px
  y: number;  // px
  w: number;  // px
  h: number;  // px
  props?: Record<string, any>;
}

type WireElementType =
  | "navbar" | "footer" | "button" | "input"
  | "image" | "card" | "list" | "chip"
  | "checkbox" | "radio" | "select" | "table"
  | "divider" | "icon";
```

---

## ğŸ¯ í•µì‹¬ í¬ì¸íŠ¸ ìš”ì•½

### 1. AI ê¸°ë°˜ ìë™ ìƒì„±
- **Claude AI**ê°€ í”„ë¡œì íŠ¸ ìš”êµ¬ì‚¬í•­ì„ ë¶„ì„
- ìë™ìœ¼ë¡œ **êµ¬ì¡°í™”ëœ JSON** ìƒì„±
- ë³„ë„ì˜ ë””ìì¸ íˆ´ ë¶ˆí•„ìš”

### 2. ë¡œíŒŒì´(Low-Fidelity) ë””ìì¸
- ìƒ‰ìƒ/ì´ë¯¸ì§€ ì—†ì´ **ë°•ìŠ¤ì™€ ë¼ë²¨**ë§Œ í‘œì‹œ
- í™”ë©´ **êµ¬ì¡°ì™€ ë°°ì¹˜**ì— ì§‘ì¤‘
- ë¹ ë¥¸ í”¼ë“œë°± ë° ìˆ˜ì • ê°€ëŠ¥

### 3. ì¦‰ì‹œ ë Œë”ë§
- JSON â†’ HTML/CSSë¡œ **ì‹¤ì‹œê°„ ë Œë”ë§**
- ì™¸ë¶€ íˆ´ ì—†ì´ ë¸Œë¼ìš°ì €ì—ì„œ ë°”ë¡œ í™•ì¸
- ì¬ìƒì„±ë„ ë²„íŠ¼ í´ë¦­ í•œ ë²ˆìœ¼ë¡œ ê°€ëŠ¥

### 4. í™•ì¥ ê°€ëŠ¥í•œ êµ¬ì¡°
- JSON ìŠ¤í‚¤ë§ˆ ê¸°ë°˜ìœ¼ë¡œ í–¥í›„ **í•˜ì´íŒŒì´** ì „í™˜ ê°€ëŠ¥
- **JSON Patch**ë¡œ ë¶€ë¶„ ìˆ˜ì • ê°€ëŠ¥ (í–¥í›„ êµ¬í˜„)
- ë‹¤ì–‘í•œ ë””ë°”ì´ìŠ¤ ëŒ€ì‘ (ëª¨ë°”ì¼, íƒœë¸”ë¦¿, ë°ìŠ¤í¬í†±)

---

## ğŸš€ ì‚¬ìš© ì˜ˆì‹œ

### ì‹œë‚˜ë¦¬ì˜¤: ë§›ì§‘ ì¶”ì²œ ì•± ì™€ì´ì–´í”„ë ˆì„ ìƒì„±

**ì…ë ¥ (í”„ë¡œì íŠ¸ ìš”êµ¬ì‚¬í•­)**:
```
ì œëª©: ë§›ì§‘ ì¶”ì²œ ì•±
ì„¤ëª…: AI ê¸°ë°˜ ê°œì¸í™” ë§›ì§‘ ì¶”ì²œ ì„œë¹„ìŠ¤

í•µì‹¬ ê¸°ëŠ¥:
1. ì‚¬ìš©ì ìœ„ì¹˜ ê¸°ë°˜ ë§›ì§‘ ê²€ìƒ‰
2. AI ê°œì¸í™” ì¶”ì²œ
3. ë¦¬ë·° ì‘ì„± ë° ê³µìœ 

ì£¼ìš” ìš”êµ¬ì‚¬í•­:
- ì‚¬ìš©ì ì¸ì¦: ì†Œì…œ ë¡œê·¸ì¸
- ë§›ì§‘ ê²€ìƒ‰: ìœ„ì¹˜/ì¹´í…Œê³ ë¦¬ í•„í„°ë§
- AI ì¶”ì²œ: ì‚¬ìš©ì ì„ í˜¸ë„ í•™ìŠµ
```

**ì¶œë ¥ (ì™€ì´ì–´í”„ë ˆì„)**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â‰¡ NAVBAR Â· ë§›ì§‘ ì¶”ì²œ         â”‚ â† ìƒë‹¨ë°”
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âŒ¨ INPUT Â· ë§›ì§‘ ê²€ìƒ‰          â”‚ â† ê²€ìƒ‰ ì…ë ¥
â”‚                     â–¶ í•„í„°    â”‚ â† í•„í„° ë²„íŠ¼
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â–¡ CARD Â· ë§›ì§‘ ì¹´ë“œ 1        â”‚
â”‚  â–¡ CARD Â· ë§›ì§‘ ì¹´ë“œ 2        â”‚
â”‚  â–¡ CARD Â· ë§›ì§‘ ì¹´ë“œ 3        â”‚ â† ë¦¬ìŠ¤íŠ¸
â”‚  â–¡ CARD Â· ë§›ì§‘ ì¹´ë“œ 4        â”‚
â”‚  â–¡ CARD Â· ë§›ì§‘ ì¹´ë“œ 5        â”‚
â”‚  â–¡ CARD Â· ë§›ì§‘ ì¹´ë“œ 6        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  í™ˆ  ê²€ìƒ‰  ì¢‹ì•„ìš”  í”„ë¡œí•„     â”‚ â† í•˜ë‹¨ íƒ­ë°”
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì†Œìš” ì‹œê°„**: ì•½ 5-10ì´ˆ

---

## ğŸ“ ì¶”ê°€ ë¬¸ì„œ

- **êµ¬í˜„ ê°€ì´ë“œ**: `docs/guides/WIREFRAME_êµ¬í˜„_ê°€ì´ë“œ.md`
- **íƒ€ì… ì •ì˜**: `frontend/src/types/wireframe.ts`
- **ë°±ì—”ë“œ ì„œë¹„ìŠ¤**: `backend/src/wireframes/wireframes.service.ts`
- **í”„ë¡ íŠ¸ì—”ë“œ í›…**: `frontend/src/hooks/useWireframe.ts`
- **ë Œë”ëŸ¬ ì»´í¬ë„ŒíŠ¸**: `frontend/src/components/wireframe/LoFiCanvas.tsx`

---

**ì‘ì„±ì¼**: 2025-01-12  
**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025-01-12

